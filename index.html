<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    </head>
    <style>
        body{
            margin-left: 5%;
            margin-top: 5%;
        }

    </style>
    <body>
        <h1>
            Event Organizer
        </h1>

        <p>Current Events</p>

        <div class="Event Dropdown">
            <button class="btn btn-secondary dropdown-toggle" style="width: 500px;" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
              Event Name + Time
            </button>

            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                <div class="card" style="width: 500px;">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Location:</li>
                        <li class="list-group-item">Spots Filled:</li>
                    </ul>
                  </div>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="#">Join Event</a></li>
              <li><a class="dropdown-item" href="#">Contact Organizer</a></li>
            </ul>
        </div>
        <button type="submit" class="btn btn-primary mb-2" onclick="testStudy()">Submit</button>
        <div class="container">
          <form>
            <div class="form-group">
              <label for="formGroupExampleInput">Class #:</label>
              <input type="text" id="question1" class="form-control" id="formGroupExampleInput" placeholder="">
            </div>
            <div class="form-group">
              <label for="formGroupExampleInput">Contact Information (Email)</label>
              <input type="text" id="question2" class="form-control" id="formGroupExampleInput" placeholder="">
            </div>
            <div class="form-group">
              <label for="formGroupExampleInput">Max attendance numbers</label>
              <input type="text" id="question3" class="form-control" id="formGroupExampleInput" placeholder="">
            </div>
            <div class="form-group">
              <label for="formGroupExampleInput">Location</label>
              <input type="text" id="question4" class="form-control" id="formGroupExampleInput" placeholder="">
            </div>
            <div class="form-group">
              <label for="formGroupExampleInput">Time</label>
              <input type="text" id="question5" class="form-control" id="formGroupExampleInput" placeholder="">
            </div>
          </form>
          <div class="col-auto">
            <button type="submit" id="btnSubmit" class="btn btn-primary mb-2">Submit</button>
          </div> 
        </div> 
     <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-analytics.js";
        import { getFirestore} from "https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js";
        import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"; 
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyB4W4SU7jx2Tsm5sWlTvoHD2YJrXdaxMF0",
          authDomain: "cheesehacks2021.firebaseapp.com",
          projectId: "cheesehacks2021",
          storageBucket: "cheesehacks2021.appspot.com",
          messagingSenderId: "186083738529",
          appId: "1:186083738529:web:a252e82dbd2fbda6a741e0",
          measurementId: "G-VVNEZWTWSF",
        };
    
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const db = getFirestore();
            
        var btnSubmit = document.getElementById("btnSubmit");
        var q1 = document.getElementById("question1");
        var q2 = document.getElementById("question2");
        var q3 = document.getElementById("question3");
        var q4 = document.getElementById("question4");
        var q5 = document.getElementById("question5");
        
        btnSubmit.addEventListener("click", function(){
          try {
            const docRef = addDoc(collection(db, "study"), {
            Class: q1.value,
            ContactInformation: q2.value,
            MaxAttendance: q3.value,
            Location: q4.value,
            Time: q5.value,
            IsCancelled: false,
            NumberAttending: 1
          });
          } catch (e) {
              console.error("Error adding document: ", e);
          }
        }, false);
       </script>
  </body>    
</html>
